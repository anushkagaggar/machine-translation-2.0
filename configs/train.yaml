dataloader:
  max_source_len: 80
  max_target_len: 80
  max_tokens_per_batch: 2500
  num_workers: 2
  shuffle: true

model:
  src_vocab_size: 8000
  tgt_vocab_size: 8000
  encoder_layers: 4
  decoder_layers: 4
  d_model: 256
  nhead: 4
  d_ff: 1024
  dropout: 0.1
  tie_embeddings: true
  pad_id: 3
  max_len: 80

train:
  device: "cuda"
  num_epochs: 12
  seed: 42
  debug_subset: null

optimizer:
  lr: 3.0e-4
  betas: [0.9, 0.98]
  eps: 1.0e-9
  weight_decay: 0.0

scheduler:
  type: "noam"
  warmup_steps: 400

grad:
  grad_accum_steps: 2
  max_grad_norm: 0.5
  use_amp: true
  label_smoothing: 0.1

checkpoint:
  checkpoint_every_steps: 1000
  checkpoint_dir: "models/checkpoints"
  keep_last_n: 5

logging:
  log_every_steps: 50
  save_best_by: "valid_loss"
